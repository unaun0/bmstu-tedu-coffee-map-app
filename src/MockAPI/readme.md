# CoffeeShops API

Базовый URL: `http://<HOST>:<PORT>/api/`

По умолчанию:
* HOST = 0.0.0.0
* PORT = 8080

## Запуск сервера

```
python main.py
```

## Эндпоинты

### Получение списка кофейн с возможностью пагинации и сортировки по геокоординатам

```
GET /api/coffeeshops
```

Возвращает список кофейн. Если указаны параметры `lat` и `lon`, кофейни сортируются по расстоянию до этой точки.
Если параметр `page` не указан, возвращаются все кофейни без пагинации. Если указан — результат разбивается на страницы по 3 элемента.

#### Параметры запроса

| Параметр | Тип   | Обязательный | Описание                                                                                          |
|----------|-------|--------------|--------------------------------------------------------------------------------------------------|
| `page`   | int   | Нет          | Номер страницы (начинается с 1). Если не указан — возвращаются все кофейни без пагинации.         |
| `lat`    | float | Нет          | Широта точки для сортировки по расстоянию.                                                      |
| `lon`    | float | Нет          | Долгота точки для сортировки по расстоянию.                                                     |

#### Примеры запроса

Получить все кофейни (без пагинации):

`GET /api/coffeeshops`

Получить вторую страницу с 6 элементами на странице:

`GET /api/coffeeshops?page=2`

Получить все кофейни, отсортированные по удалённости от точки (55.7558, 37.6173):

`GET /api/coffeeshops?lat=55.7558&lon=37.6173`

#### Ответы
* `200 OK` — массив объектов кофейн (JSON)

### Получение информации о кофейне по ID

```
GET /api/coffeeshops/<shop_id>
```

Возвращает подробную информацию о кофейне по её уникальному идентификатору.

#### Параметры запроса

| Параметр | Тип   | Обязательный | Описание                                                                                          |
|----------|-------|--------------|--------------------------------------------------------------------------------------------------|
| `shop_id`   | string   | Да         | Уникальный ID кофейни (UUID) |

#### Ответы

* `200 OK` — объект кофейни (JSON)
* `404 Not Found` — кофейня с указанным ID не найдена

## Пример ответа на запрос

```
[
    {
        "id": "0b86bcfb-e9f1-4054-a6f5-22794e013213",
        "name": "Шоколадница",
        "description": "Кофейня «Шоколадница» — это место, где вы можете насладиться ароматным кофе и вкусными десертами.",
        "contacts": {
            "phone": "+7 (985) 369-93-09",
            "website": "shoko.ru"
        },
        "working_hours": {
            "start_time": "10:00",
            "end_time": "21:00",
            "working_days": [
            "Понедельник",
            "Вторник",
            "Среда",
            "Четверг",
            "Пятница",
            "Суббота",
            "Воскресенье"
            ]
        },
        "rating": 4.3,
        "photos": [
            "https://avatars.mds.yandex.net/get-altay/14295867/2a00000195273bd51a258ece86296b3544e9/XXXL",
            "https://avatars.mds.yandex.net/get-altay/15126910/2a00000195ec0b633f9b19afcb4c76bc3b84/XXXL",
            "https://avatars.mds.yandex.net/get-altay/15074997/2a00000195273bcc9f1dccd6258231f4669d/XXXL"
        ],
        "location": {
            "latitude": 55.887910,
            "longitude": 37.662537,
            "address": "Широкая улица, 13А, Москва"
        }
    }
]
```

| Поле           | Тип данных             | Описание                                        | Пример                                                                                     |
|----------------|-----------------------|------------------------------------------------|--------------------------------------------------------------------------------------------|
| id             | string                | Уникальный идентификатор кофейни (UUID)         | "0b86bcfb-e9f1-4054-a6f5-22794e013213"                                                    |
| name           | string                | Название кофейни                                | "Шоколадница"                                                                              |
| description    | string (опционально)  | Описание кофейни, её особенностей               | "Кофейня «Шоколадница» — это место, где вы можете насладиться ароматным кофе и десертами." |
| contacts       | object                | Контактная информация                           | -                                                                                          |
| ├─ phone       | string                | Телефон                                        | "+7 (985) 369-93-09"                                                                       |
| ├─ website     | string (опционально)  | Веб-сайт кофейни                               | "shoko.ru"                                                                                 |
| working_hours  | object                | Время работы                                   | -                                                                                          |
| ├─ start_time  | string (формат HH:MM) | Время открытия                                 | "10:00"                                                                                   |
| ├─ end_time    | string (формат HH:MM) | Время закрытия                                 | "21:00"                                                                                   |
| ├─ working_days| array из string       | Дни недели, когда кофейня работает              | ["Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота", "Воскресенье"]       |
| rating        | number                | Рейтинг кофейни (от 0 до 5)                    | 4.3                                                                                        |
| photos        | array из string       | Ссылки на фотографии кофейни                    | ["https://avatars.mds.yandex.net/..."]                                                    |
| location      | object                | Местоположение                                 | -                                                                                          |
| ├─ latitude   | number                | Географическая широта                          | 55.887910                                                                                  |
| ├─ longitude  | number                | Географическая долгота                         | 37.662537                                                                                  |
| └─ address    | string                | Адрес кофейни                                  | "Широкая улица, 13А, Москва"                                                              |
